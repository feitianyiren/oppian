{% extends "blog/base_blog.html" %}


{% block title %}Blog{% endblock %}
{% block body_title %}OppianBlog{% endblock %}

{% block body_class %}{{ block.super }} post_list{% endblock %}

{% block body %}
  <div class="post_list">
  	{% load comments %}
    {% for post in object_list %}
    {% get_comment_count for post as comment_count %}
    <div class="post">
      <h3><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h3>
      <ul class="post_info">
      	<li class="date">
      		Posted by {{ post.author }}
      		on {{ post.publish|date:"Y.m.d" }}
      	</li>
	  	<li class="comments">
	  		{{ comment_count }} comment{{ comment_count|pluralize:',s' }}
	  	</li>
      </ul>
      <p>{{ post.tease }}</p>
    </div>
    {% endfor %}
  </div>
  
  {% if is_paginated %}
  <p class="pagination">
    {% if has_next %}
    <a class="older" href="?page={{ next }}">Older</a>
    {% endif %}
    {% if has_next and has_previous %} | {% endif %}
    {% if has_previous %}
    <a class="newer" href="?page={{ previous }}">Newer</a>
    {% endif %}
  </p>
  {% endif %}
{% endblock %}